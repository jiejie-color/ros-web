# 多机器人舞蹈编排与导演系统方案（前端优先）

## 一、背景与目标

随着机器人能力的不断丰富（跳舞、翻跟头、倒立等待等），单一脚本或单机控制方式已经难以支撑**多机器人联合表演**的需求。

在实际演出与展示场景中，我们更需要一种方式：

* 像**导演一样**统一编排机器人动作
* 在**同一时间**协调一个或多个机器人协同表演
* 不关心底层控制细节，只关注整体效果、节奏与舞台呈现

### 本方案目标

构建一套 **“多机器人舞蹈编排与指挥系统”**，让操作者能够：

* 可视化编排机器人动作
* 统一调度多机器人同步或异步表演
* 支持复用、回放和快速调整演出方案

---

## 二、总体设计思路（导演视角）

### 核心理念

> **人是导演，机器人是演员，系统是舞台调度台**

系统分为三层（当前阶段重点在第一层）：

1. **导演编排层（前端）**

   * 通过时间轴可视化编排动作
   * 定义“谁在什么时候做什么”

2. **编排调度层（后端，后续接入）**

   * 解析编舞方案
   * 负责时间同步与状态调度

3. **机器人执行层（各机器人自身）**

   * 将“动作指令”映射为具体控制
   * 保证安全与稳定执行

当前方案 **优先实现导演编排层**，用于方案展示与能力验证。

---

## 三、前端方案核心：时间轴编舞界面

### 设计目标

* 让非底层控制人员也能快速编排机器人表演
* 所见即所得，降低沟通与调试成本
* 为后端调度系统提供清晰、结构化输入

---

### 页面整体结构

```
┌────────────────────────────────────┐
│ 顶部：演出名称 / 播放 / 停止 / 保存 │
├──────────────┬─────────────────────┤
│ 左侧          │ 中央：时间轴编舞区   │
│ - 机器人列表  │ 多轨道 + 动作片段   │
│ - 动作库      │ 拖拽 / 拉伸 / 对齐   │
├──────────────┴─────────────────────┤
│ 底部：时间 / 状态 / 执行反馈        │
└────────────────────────────────────┘
```

---

## 四、核心交互方式

### 1️⃣ 多轨道时间轴

* 每一行代表一个机器人
* 横向表示时间
* 不同机器人可同时执行不同动作

示意：

```
时间 →
Robot A | [舞蹈][旋转]
Robot B | [舞蹈      ]
Robot C |      [翻跟头]
```

---

### 2️⃣ 动作片段（Clip）

每个动作是一个可视化片段：

* 可拖拽：调整开始时间
* 可拉伸：调整动作持续时间
* 可配置参数：速度、方向、姿态等

---

### 3️⃣ 群组编排能力

* 支持将多个机器人组成一个“表演组”
* 对群组下发统一动作
* 便于大型演出快速编排

---

### 4️⃣ 播放与仿真（不依赖真实机器人）

* 时间指针从 0 开始播放
* 动作按时间高亮执行
* 即使没有接后端，也能演示完整流程

**非常适合方案展示与汇报演示**

---

## 五、技术可行性与实现方式

### 技术选型（成熟可靠）

* 前端框架：React + TypeScript
* UI：Ant Design
* 拖拽与交互：自研时间轴组件（后续可升级）
* 数据结构：JSON 编舞描述（标准化、可存储）

### 为什么前端先行？

1. **最快形成可见成果**
2. 能验证“导演式编排”是否符合真实需求
3. 可反向指导后端接口与调度设计
4. 降低整体系统试错成本

---

## 六、与后端 / 机器人系统的衔接

前端编舞最终导出为统一的 **编舞 JSON**，例如：

```json
{
  "time": 0,
  "target": "robot_A",
  "action": "dance",
  "duration": 5
}
```

后端只需关注：

* 时间调度
* 状态反馈
* 动作执行

**前后端职责清晰，耦合度低。**

---

## 七、阶段性计划

### 第一阶段（当前，1–2 周）

* 完成时间轴编舞前端原型
* 支持：

  * 多机器人
  * 多动作
  * 拖拽编排
  * 播放演示
* 用于方案展示和内部评审

### 第二阶段（后续）

* 接入后端调度服务
* 对接真实机器人
* 支持异常处理与安全策略

### 第三阶段（演出级）

* 音乐节拍同步
* 条件触发动作
* 表演方案复用与模板化

---

## 八、方案价值总结

* 🎬 **导演式编排**：大幅降低多机器人表演门槛
* 🧩 **高度解耦**：不绑定具体机器人型号
* 🔁 **可复用**：一套舞蹈，多次演出
* 🚀 **可扩展**：从展示走向商业演出级系统
> **这是一个把“控制机器人”升级为“导演机器人表演”的系统，是多机器人演出能力的基础设施。**

## 九、人员配置

| 模块 / 系统     | 负责人 | 职责说明            |
| ----------- | --- | --------------- |
| X2 机器人      | 田金山 | X2 机器人动作能力实现与调试 |
| 快板机器臂       | 田金山 | 快板演示动作控制与执行     |
| 前端 Web 编舞页面 | 刘晋玮 | 导演台前端页面、时间轴编排界面 |
| 机器人调度服务     | 刘晋玮 | 多机器人动作调度与指挥服务   |
| 指挥交通器臂      | 王坤鹏 | 指挥/交互类机械臂控制     |
| D1 机器狗      | 赵杰瑞 | D1 机器狗动作能力与表演适配 |
| X1 机器人      | 罗寅  | X1 机器人动作与控制支持   |
